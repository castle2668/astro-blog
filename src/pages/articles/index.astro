---
import MainLayout from "../../layouts/MainLayout.astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

import ArticleCard from "../../components/ArticleCard.astro";

const allBlogArticles: CollectionEntry<"blog">[] = (
  await getCollection("blog")
).sort(
  (a: CollectionEntry<"blog">, b: CollectionEntry<"blog">) =>
    b.data.date.valueOf() - a.data.date.valueOf()
);
---

<MainLayout>
  <section>
    <h1>文章列表</h1>
    <ul>
      {allBlogArticles.map((article) => <ArticleCard article={article} />)}
    </ul>
  </section>
  <div>
    <a href="/" rel="prev"> ← 較新文章 </a>
    <a href="/" rel="next"> 較舊文章 → </a>
  </div>
</MainLayout>
